\section{Data4Help Alloy analysis}

    In Data4Help the most critical parts identified are the requests of the Third parties. In both cases, requests for a single user and requests for multiple data, Data4Help must satisfy some requirement in order to protect the privacy of its users.
    In particular the system must return the health data of the requested user only under his agreement and, in case of request for data of a group of individuals, it has to accept it and forward them only if the amount of people, that match with the filters chosen by the third parties, is greater than 1000, in order to be able to anonymise them.
    
    \subsection{Signatures}
    
    Here we present all the signature composing the model.
    
    \lstinputlisting[language=alloy]{./Alloy/AlloyCode/D4H_signatures.als}

    \subsection{Facts}
 
        In this section are defined all the constraints needed in order to create a consistent model of the requests.
    
        \lstinputlisting[language=alloy]{./Alloy/AlloyCode/D4H_facts.als}

    \subsection{Asserts}
    
        At the end these two asserts verify if the model built respects all the constraints to guarantee the requirements explained before.
    
        \lstinputlisting[language=alloy]{./Alloy/AlloyCode/D4H_asserts.als}






    