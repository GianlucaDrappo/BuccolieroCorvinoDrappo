\section{Product functions}

In this section there is an analysis of functional requirements (grouped by three main services) that the application needs to reach the main goals. 



\subsection{Data4Help}
\begin{enumerate}[label={[}R1.\arabic*{]}]

    \item The system allows Individuals to register, requiring name, surname, fiscal code, password and email in order to create a new Individual account.

    \item The system allows Third-parties to register, requiring the company name, VAT number, email and password in order to create a new Third-party account.
    
    \item The application retrieves from smart-watches the following data, associating them to the user: 
    \begin{itemize}
        \item beats per minute ( bpm );
        \item number of steps;
        \item location;
        \item time-stamp of the measurement.
    \end{itemize}
    
    \item The frequency is 30sec %this in non functional
    
    \item The system allows Third-parties to request data of Individuals and the latter to accept or refuse them. 
    \begin{enumerate}[label={[}R1.\arabic{enumi}.\arabic*{]}, leftmargin=*]
        \item If the Individual accepts, the system sends to the Third-party all the data gathered from the specified user.
    
        \item If the Individual refuses or he/she is not registered, the system sends to the Third-party an error message.
    \end{enumerate}
    
    \item Upon Third-parties request, the system can perform parametric searches based on geographical areas, age, genre, time of the day. The result of the query is then stored and evaluated for approval.
    \begin{enumerate}[label={[}R1.\arabic{enumi}.\arabic*{]}, leftmargin=*]
        \item If the request is approved, the saved data is provided to the Third-party.
        \item If the request is not approved, an error message is sent to the Third-party.
        \item In order to anonimize data, the application only sends information related to the health status of individuals (e.g. bpm, step).
    \end{enumerate}
        
    \item The application allows Third-parties to subscribe to certain data.
    \begin{enumerate}[label={[}R1.\arabic{enumi}.\arabic*{]}, leftmargin=*]
        \item The application, if the Third-party subscribed to some data (belonging to Individuals or group searches), sends updates to the Third-party aggregating the data with the specified granularity and frequency.
    \end{enumerate}
        
    \item The application allows Individuals withdrawals of consent for accessing their data and Third-party unsubscriptions.
    \begin{enumerate}[label={[}R1.\arabic{enumi}.\arabic*{]}, leftmargin=*]
        \item If the Individual withdraws consent for the access of his data, a message is sent to the subscribed Third-party and data is no longer provided.
        \item If the Third-party no longer wishes to collect data from an Individual, a message is sent to him/her and his/her data is no longer sent.
    \end{enumerate}
        
        
    \item The system allows Third-parties to access to their request history and results.
    
    \item The system allows Individuals to check gathered data.

\end{enumerate}


\subsection{AutomatedSOS}

\begin{enumerate}[label={[}R2.\arabic*{]}]

    \item The system has to analyse user data and sends the location of the user to the ambulance service in case of emergency, when health values goes under the threshold.
    
    \item The system gives the possibility to subscribe to the service upon request, only after checking the user age from his/her fiscal code.
\end{enumerate}


\subsection{Track4Run}

\begin{enumerate}[label={[}R3.\arabic*{]}]

    \item The system allows Participants to log into the application through their Data4Help account and, after they are logged in, to enrol the the runs available.
    
    \item The system allows the enrolling of Participants only if they are not enrolled in a race at the same time.
    
    \item The system allows Visitors to access the application as host-users, without registration, by giving them only the possibility to track the Participants.
    
    \item At the end of each run, the systems shows the rank to all Visitors watching it.
    
    \item The system stores the ranks of finished races so that both Participants and Organisers can access to the race history.
    
    \item The system allows the registration of Organisers without requiring also Data4Help registration.
    
    \item In order to organise a run, the application requires track, data, time and the maximum number of participants.
    
    \item The system needs to update subscriptions to the runs, decreasing the number of allowed participants. It must not allow further subscriptions if there are no leftover places.
    
    \item The system does not allow that two or more runs are organised either at the same place or at the same time.

\end{enumerate}